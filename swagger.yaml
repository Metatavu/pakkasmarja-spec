swagger: '2.0'
info:
  title: Pakkasmarja REST API
  description: REST API for Pakkasmarja
  version: 0.0.3
schemes:
  - https
basePath: /rest/v1
consumes:
  - application/json;charset=utf-8
produces:
  - application/json;charset=utf-8
securityDefinitions:
  bearer:
    type: apiKey
    name: Authorization
    in: header
security:
  - bearer: []
paths:
  /contacts:
    get:
      operationId: listContacts
      summary: Lists contacts
      description: Lists contacts
      tags:
        - Contacts
      parameters:
        - name: search
          in: query
          description: filter results by free text search
          type: string
      responses:
        '200':
          description: List of contacts
          schema:
            type: array
            items:
              $ref: '#/definitions/Contact'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/contacts/{id}':
    get:
      operationId: findContact
      summary: Find contact
      description: Finds contact by id
      tags:
        - Contacts
      parameters:
        - name: id
          required: true
          in: path
          description: contact id
          type: string
          format: uuid
      responses:
        '200':
          description: A contact
          schema:
            $ref: '#/definitions/Contact'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
    put:
      operationId: updateContact
      summary: Update contact
      description: Updates single contact
      tags:
        - Contacts
      parameters:
        - name: id
          required: true
          in: path
          description: contact id
          type: string
          format: uuid
        - name: body
          in: body
          description: Payload
          required: true
          schema:
            $ref: '#/definitions/Contact'
      responses:
        '200':
          description: Updated contact
          schema:
            $ref: '#/definitions/Contact'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/contacts/{id}/credentials':
    put:
      operationId: updateContactCredentials
      summary: Update contact credentials
      description: Updates single contact credentials
      tags:
        - Contacts
      parameters:
        - name: id
          required: true
          in: path
          description: contact id
          type: string
          format: uuid
        - name: body
          in: body
          description: Payload
          required: true
          schema:
            $ref: '#/definitions/Credentials'
      responses:
        '204':
          description: No content to indicate successfull update
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  /contracts:
    get:
      operationId: listContracts
      summary: Lists contracts
      description: Lists contracts
      tags:
        - Contracts
      parameters:
        - name: Accept 
          in: header
          type: string
          description: Expected response format. Accepted values application/json for JSON reponse (default) and application/vnd.openxmlformats-officedocument.spreadsheetml.sheet for Excel response
        - name: listAll 
          in: query
          type: boolean
          description: Returns all contracts instead of just user's own contracts. User must have permission to do this.
        - name: itemGroupCategory
          in: query
          type: string
          description: Filters results by item group category.
        - name: itemGroupId
          in: query
          type: string
          description: Filters results by item group id.
        - name: year
          in: query
          type: integer
          format: int32
          description: Filters results by year.
        - name: status
          in: query
          type: string
          description: Filters results by status
        - name: firstResult
          in: query
          description: Offset of first result. Defaults to 0
          type: integer
          format: int64
        - name: maxResults
          in: query
          description: Max results. Defaults to 5
          type: integer
          format: int64
      responses:
        '200':
          description: List of contracts.
          schema:
            type: array
            items:
              $ref: '#/definitions/Contract'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
    post:
      operationId: createContract
      summary: Create contract
      description: Create new contract
      tags:
        - Contracts
      parameters:
        - name: body
          in: body
          description: Payload
          required: true
          schema:
            $ref: '#/definitions/Contract'
      responses:
        '200':
          description: Created contract
          schema:
            $ref: '#/definitions/Contract'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/contracts/{id}':
    get:
      operationId: findContract
      summary: Find contract
      description: Finds contract by id
      tags:
        - Contracts
      parameters:
        - name: id
          required: true
          in: path
          description: contract id
          type: string
          format: uuid
        - name: Accept 
          in: header
          type: string
          description: Expected response format. Accepted values application/json for JSON reponse (default) and application/vnd.openxmlformats-officedocument.spreadsheetml.sheet for Excel response 
      responses:
        '200':
          description: A contract
          schema:
            $ref: '#/definitions/Contract'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
    put:
      operationId: updateContract
      summary: Update contract
      description: Updates single contract
      tags:
        - Contracts
      parameters:
        - name: id
          required: true
          in: path
          description: contract id
          type: string
          format: uuid
        - name: body
          in: body
          description: Payload
          required: true
          schema:
            $ref: '#/definitions/Contract'
      responses:
        '200':
          description: Updated contract
          schema:
            $ref: '#/definitions/Contract'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/contracts/{contractId}/prices':
    get:
      operationId: listContractPrices
      summary: List contract prices
      description: Lists contract prices
      tags:
        - Contracts
      parameters:
        - name: contractId
          required: true
          in: path
          description: contract id
          type: string
          format: uuid
        - name: sortBy
          in: query
          description: sort by (YEAR)
          type: string
        - name: sortDir
          in: query
          description: sort direction (ASC, DESC)
          type: string
        - name: firstResult
          in: query
          description: Offset of first result. Defaults to 0
          type: integer
          format: int64
        - name: maxResults
          in: query
          description: Max results. Defaults to 5
          type: integer
          format: int64
      responses:
        '200':
          description: A list of contract prices
          schema:
            type: array
            items:
              $ref: '#/definitions/Price'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/contracts/{contractId}/documentTemplates':
    get:
      operationId: listContractDocumentTemplates
      summary: List contract document templates
      description: Lists contract templates
      tags:
        - Contracts
      parameters:
        - name: contractId
          required: true
          in: path
          description: contract id
          type: string
          format: uuid
        - name: type
          required: false
          in: query
          description: Filter results by document template type 
          type: string
      responses:
        '200':
          description: List of contract templates
          schema:
            type: 'array'
            items:
              $ref: '#/definitions/ContractDocumentTemplate'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
    post:
      operationId: createContractDocumentTemplate
      summary: Create contract document template
      description: Create new contract document template
      tags:
        - Contracts
      parameters:
        - name: contractId
          required: true
          in: path
          description: contract id
          type: string
          format: uuid
        - name: body
          in: body
          description: Payload
          required: true
          schema:
            $ref: '#/definitions/ContractDocumentTemplate'
      responses:
        '200':
          description: Created contract document template
          schema:
            $ref: '#/definitions/ContractDocumentTemplate'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/contracts/{contractId}/documentTemplates/{contractDocumentTemplateId}':
    get:
      operationId: findContractDocumentTemplate
      summary: Find contract document template
      description: Finds a contract templates
      tags:
        - Contracts
      parameters:
        - name: contractId
          required: true
          in: path
          description: contract id
          type: string
          format: uuid
        - name: contractDocumentTemplateId
          required: true
          in: path
          description: contract id
          type: string
          format: uuid
      responses:
        '200':
          description: Found contract document template
          schema:
            $ref: '#/definitions/ContractDocumentTemplate'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
    put:
      operationId: updateContractDocumentTemplate
      summary: Updates contract document template
      description: Updates a contract templates
      tags:
        - Contracts
      parameters:
        - name: contractId
          required: true
          in: path
          description: contract id
          type: string
          format: uuid
        - name: contractDocumentTemplateId
          required: true
          in: path
          description: contract id
          type: string
          format: uuid
        - name: body
          in: body
          description: Payload
          required: true
          schema:
            $ref: '#/definitions/ContractDocumentTemplate'
      responses:
        '200':
          description: Updated contract document template
          schema:
            $ref: '#/definitions/ContractDocumentTemplate'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/contracts/{id}/documents/{type}':
    get:
      operationId: getContractDocument
      summary: Returns contract document
      description: Returns contract document by type
      tags:
        - Contracts
      parameters:
        - name: id
          required: true
          in: path
          description: contract id
          type: string
          format: uuid
        - name: type
          required: true
          in: path
          description: document type
          type: string
        - name: format
          required: true
          in: query
          description: document format (HTML or PDF)
          type: string
      responses:
        '200':
          description: Document data
          schema:
            type: string
            format: binary
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/contracts/{id}/documents/{type}/signRequests':
    post:
      operationId: createContractDocumentSignRequest
      summary: Requests contract document electronic signing
      description: Requests contract document electronic signing
      tags:
        - Contracts
      parameters:
        - name: id
          required: true
          in: path
          description: contract id
          type: string
          format: uuid
        - name: type
          required: true
          in: path
          description: document type
          type: string
        - name: ssn
          required: true
          in: query
          description: Social security number
          type: string
        - name: authService
          required: true
          in: query
          description: Used auth service name
          type: string
        - name: body
          in: body
          description: Payload
          required: true
          schema:
            $ref: '#/definitions/ContractDocumentSignRequest'
      responses:
        '200':
          description: Contract document sign request with redirect url filled
          schema:
            $ref: '#/definitions/ContractDocumentSignRequest'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  /itemGroups:
    get:
      operationId: listItemGroups
      summary: Lists item groups
      description: Lists item groups
      tags:
        - ItemGroups
      responses:
        '200':
          description: List of item groups
          schema:
            type: array
            items:
              $ref: '#/definitions/ItemGroup'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/itemGroups/{id}':
    get:
      operationId: findItemGroup
      summary: Find item group
      description: Finds item group by id
      tags:
        - ItemGroups
      parameters:
        - name: id
          required: true
          in: path
          description: item group id
          type: string
          format: uuid
      responses:
        '200':
          description: A item group
          schema:
            $ref: '#/definitions/ItemGroup'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/itemGroups/{itemGroupId}/prices':
    get:
      operationId: listItemGroupPrices
      summary: List item group prices
      description: Lists item group prices
      tags:
        - ItemGroups
      parameters:
        - name: itemGroupId
          required: true
          in: path
          description: item group id
          type: string
          format: uuid
        - name: sortBy
          in: query
          description: sort by (YEAR)
          type: string
        - name: sortDir
          in: query
          description: sort direction (ASC, DESC)
          type: string
        - name: firstResult
          in: query
          description: Offset of first result. Defaults to 0
          type: integer
          format: int64
        - name: maxResults
          in: query
          description: Max results. Defaults to 5
          type: integer
          format: int64
      responses:
        '200':
          description: A list of item group prices
          schema:
            type: array
            items:
              $ref: '#/definitions/Price'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
    post:
      operationId: createItemGroupPrice
      summary: Creates item group price
      description: Creates an item group price
      tags:
        - ItemGroups
      parameters:
        - name: itemGroupId
          required: true
          in: path
          description: item group id
          type: string
          format: uuid
        - name: body
          in: body
          description: Payload
          required: true
          schema:
            $ref: '#/definitions/Price'
      responses:
        '200':
          description: Created item group price
          schema:
            $ref: '#/definitions/Price'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/itemGroups/{itemGroupId}/prices/{priceId}':
    get:
      operationId: findItemGroupPrice
      summary: Find item group price
      description: Finds a item group price
      tags:
        - ItemGroups
      parameters:
        - name: itemGroupId
          required: true
          in: path
          description: item group id
          type: string
          format: uuid
        - name: priceId
          required: true
          in: path
          description: price id
          type: string
          format: uuid
      responses:
        '200':
          description: A finds item group price
          schema:
            $ref: '#/definitions/Price'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
    put:
      operationId: updateItemGroupPrice
      summary: Update item group price
      description: Updates a item group price
      tags:
        - ItemGroups
      parameters:
        - name: itemGroupId
          required: true
          in: path
          description: item group id
          type: string
          format: uuid
        - name: priceId
          required: true
          in: path
          description: price id
          type: string
          format: uuid
        - name: body
          in: body
          description: Payload
          required: true
          schema:
            $ref: '#/definitions/Price'
      responses:
        '200':
          description: Updated item group price
          schema:
            $ref: '#/definitions/Price'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
    delete:
      operationId: deleteItemGroupPrice
      summary: Delete item group price
      description: Deletes an item group price
      tags:
        - ItemGroups
      parameters:
        - name: itemGroupId
          required: true
          in: path
          description: item group id
          type: string
          format: uuid
        - name: priceId
          required: true
          in: path
          description: price id
          type: string
          format: uuid
      responses:
        '204':
          description: Successful deletion
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/itemGroups/{itemGroupId}/documentTemplates':
    get:
      operationId: listItemGroupDocumentTemplates
      summary: List item group document templates
      description: Lists item group templates
      tags:
        - ItemGroups
      parameters:
        - name: itemGroupId
          required: true
          in: path
          description: item group id
          type: string
          format: uuid
      responses:
        '200':
          description: List of item group templates
          schema:
            type: 'array'
            items:
              $ref: '#/definitions/ItemGroupDocumentTemplate'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/itemGroups/{itemGroupId}/documentTemplates/{id}':
    get:
      operationId: findItemGroupDocumentTemplate
      summary: Find item group document template
      description: Finds item group template
      tags:
        - ItemGroups
      parameters:
        - name: itemGroupId
          required: true
          in: path
          description: item group id
          type: string
          format: uuid
        - name: id
          required: true
          in: path
          description: template id
          type: string
          format: uuid
      responses:
        '200':
          description: A item group template
          schema:
            $ref: '#/definitions/ItemGroupDocumentTemplate'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
    put:
      operationId: updateItemGroupDocumentTemplate
      summary: Updates item group document template
      description: Updated item group document template
      tags:
        - ItemGroups
      parameters:
        - name: itemGroupId
          required: true
          in: path
          description: item group id
          type: string
          format: uuid
        - name: id
          required: true
          in: path
          description: template id
          type: string
          format: uuid
        - name: body
          in: body
          description: Payload
          required: true
          schema:
            $ref: '#/definitions/ItemGroupDocumentTemplate'
      responses:
        '200':
          description: An updated item group document template
          schema:
            $ref: '#/definitions/ItemGroupDocumentTemplate'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  /deliveryPlaces:
    get:
      operationId: listDeliveryPlaces
      summary: Lists delivery places
      description: Lists delivery places
      tags:
        - DeliveryPlaces
      responses:
        '200':
          description: List of delivery places
          schema:
            type: array
            items:
              $ref: '#/definitions/DeliveryPlace'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/deliveryPlaces/{id}':
    get:
      operationId: findDeliveryPlace
      summary: Find delivery place
      description: Finds delivery place by id
      tags:
        - DeliveryPlaces
      parameters:
        - name: id
          required: true
          in: path
          description: delivery place id
          type: string
          format: uuid
      responses:
        '200':
          description: A delivery place
          schema:
            $ref: '#/definitions/DeliveryPlace'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/operations':
    post:
      operationId: createOperation
      summary: Creates new operation
      description: Creates new operation
      tags:
        - Operations
      parameters:
        - name: body
          in: body
          description: Payload
          required: true
          schema:
            $ref: '#/definitions/Operation'
      responses:
        '200':
          description: Operation created successful
          schema:
            $ref: '#/definitions/Operation'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/operationReports':
    get:
      operationId: listOperationReports
      summary: List operation reports
      description: Lists operation reports
      tags:
        - OperationReports
      parameters:
        - name: type
          in: query
          description: filter by type
          type: string
        - name: sortBy
          in: query
          description: sort by (CREATED)
          type: string
        - name: sortDir
          in: query
          description: sort direction (ASC, DESC)
          type: string
        - name: firstResult
          in: query
          description: Offset of first result. Defaults to 0
          type: integer
          format: int64
        - name: maxResults
          in: query
          description: Max results. Defaults to 20
          type: integer
          format: int64
      responses:
        '200':
          description: List of operation reports
          schema:
            type: array
            items:
              $ref: '#/definitions/OperationReport'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/operationReports/{id}':
    get:
      operationId: findOperationReport
      summary: Find operation report
      description: Find operation report by id
      tags:
        - OperationReports
      parameters:
        - name: id
          required: true
          in: path
          description: operation report id
          type: string
          format: uuid
      responses:
        '200':
          description: A operation report
          schema:
            $ref: '#/definitions/OperationReport'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/operationReports/{id}/items':
    get:
      operationId: listOperationReportItems
      summary: List operation report items
      description: Lists operation report items
      tags:
        - OperationReports
      parameters:
        - name: id
          required: true
          in: path
          description: operation report id
          type: string
          format: uuid
      responses:
        '200':
          description: A list of operation report items
          schema:
            type: array
            items:
              $ref: '#/definitions/OperationReportItem'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
  '/signAuthenticationServices':
    get:
      operationId: listSignAuthenticationServices
      summary: List sign authentication services
      description: List available sign authentication services
      tags:
        - SignAuthenticationServices
      responses:
        '200':
          description: A list of sign authentication services
          schema:
            type: array
            items:
              $ref: '#/definitions/SignAuthenticationService'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'
          
  '/chatThreads':
    get:
      operationId: listChatThreads
      summary: Returns list of chat threads
      description: Returns list of chat threads
      tags:
        - ChatThreads
      parameters:
        - name: originId
          in: query
          description: Filter chat threads by origin id
          type: string  
      responses:
        '200':
          description: A list of chat threads
          schema:
            type: array
            items:
              $ref: '#/definitions/ChatThread'
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'

  '/chatThreads/{threadId}/reports/{type}':
    get:
      operationId: getChatThreadReport
      summary: Returns chat thread report
      description: Returns chat thread report
      tags:
        - ChatThreads
      parameters:
        - name: threadId
          required: true
          in: path
          description: chat thread id
          type: integer
          format: int64
        - name: type
          required: true
          in: path
          description: report type. Accepted values summaryReport
          type: string  
        - name: Accept 
          in: header
          type: string
          description: Expected response format. Accepted values application/vnd.openxmlformats for Excel response
      responses:
        '200':
          description: Report data
          schema:
            type: string
            format: binary
        '400':
          description: Invalid request was sent to the server
          schema:
            $ref: '#/definitions/BadRequest'
        '403':
          description: Attempted to make a call with unauthorized client
          schema:
            $ref: '#/definitions/Forbidden'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/InternalServerError'

definitions:
  Contact:
    type: object
    properties:
      id:
        type: string
        format: uuid
      sapId:
        type: string
      firstName:
        type: string
      lastName:
        type: string
      companyName:
        type: string
      phoneNumbers:
        type: array
        items:
          type: string
      email:
        type: string
        format: email
      addresses:
        type: array
        items:
          $ref: '#/definitions/Address'
      BIC:
        type: string
      IBAN:
        type: string
      taxCode:
        type: string
      vatLiable:
        type: string
        enum:
          - 'YES'
          - 'NO'
          - EU
      audit:
        type: string
  Credentials:
    type: object
    properties:
      password:
        type: string
  Contract:
    type: object
    properties:
      id:
        type: string
        format: uuid
      sapId:
        type: string
      contactId:
        type: string
        format: uuid
      deliveryPlaceId:
        type: string
        format: uuid
      proposedDeliveryPlaceId:
        type: string
        format: uuid
      deliveryPlaceComment:
        type: string
      itemGroupId:
        type: string
        format: uuid
      year:
        type: integer
        format: int32
      contractQuantity:
        type: number
        format: double
      deliveredQuantity:
        type: number
        format: double
      proposedQuantity:
        type: number
        format: double
      quantityComment:
        type: string
      startDate:
        type: string
        format: date
      endDate:
        type: string
        format: date
      signDate:
        type: string
        format: date
      termDate:
        type: string
        format: date
      rejectComment:
        type: string
      areaDetails:
        type: array
        items:
          $ref: '#/definitions/AreaDetail'
      deliverAll:
        type: boolean
      status:
        type: string
        enum:
          - APPROVED
          - ON_HOLD
          - DRAFT
          - TERMINATED
          - REJECTED
      remarks:
        type: string
  Price:
    type: object
    properties:
      id:
        type: string
        format: uuid
      group:
        type: string
      year:
        type: integer
        format: int32
      unit:
        type: string
      price:
        type: string
  ItemGroupDocumentTemplate:
    type: object
    properties:
      id:
        type: string
        format: uuid
      itemGroupId:
        type: string
        format: uuid
      type:
        type: string
      contents:
        type: string
      header:
        type: string
      footer:
        type: string
  ContractDocumentTemplate:
    type: object
    properties:
      id:
        type: string
        format: uuid
      contractId:
        type: string
        format: uuid
      type:
        type: string
      contents:
        type: string
      header:
        type: string
      footer:
        type: string
  ContractDocumentSignRequest:
    type: object
    properties:
      redirectUrl:
        type: string
  SignAuthenticationService:
    type: object
    properties:
      identifier:
        type: string
      name:
        type: string
      image:
        type: string
        format: url
  ItemGroup:
    type: object
    properties:
      id:
        type: string
        format: uuid
      name:
        type: string
      displayName:
        type: string
      category:
        type: string
      minimumProfitEstimation:
        type: number
        format: double
      prerequisiteContractItemGroupId:
        description: Require contract in specified item group before siging a contract
        type: string
        format: uuid
  DeliveryPlace:
    type: object
    properties:
      id:
        type: string
        format: uuid
      name:
        type: string
  Address:
    type: object
    properties:
      type:
        type: string
      streetAddress:
        type: string
      postalCode:
        type: string
      city:
        type: string
  Operation:
    type: object
    properties:
      type:
        type: string
      operationReportId:
        type: string
        format: uuid
  OperationReport:
    type: object
    properties:
      id:
        type: string
        format: uuid
      type:
        type: string
      started:
        type: string
        format: date-time
      pendingCount:
        type: integer
        format: int32
      failedCount:
        type: integer
        format: int32
      successCount:
        type: integer
        format: int32  
  OperationReportItem:
    type: object
    properties:
      status:
        type: string
        enum:
          - PENDING
          - FAILURE
          - SUCCESS
      message:
        type: string
  AreaDetail:
    type: object
    properties:
      name:
        type: string
      size:
        type: number
        format: double
      species:
        type: string
      profitEstimation:
        type: number
        format: double
  ChatThread:
    type: object
    required:
      - title
      - answerType
    properties:
      id:
        type: integer
        format: int64
      title:
        type: string
      type:
        type: string
      originId:
        type: string
      imageUrl:
        type: string
        format: url
      answerType:
        type: string
        enum:
          - TEXT
          - PREDEFINED        
  InternalServerError:
    type: object
    properties:
      code:
        type: integer
        format: int32
      message:
        type: string
  Forbidden:
    type: object
    properties:
      code:
        type: integer
        format: int32
      message:
        type: string
  BadRequest:
    type: object
    properties:
      code:
        type: integer
        format: int32
      message:
        type: string
  NotImplemented:
    type: object
    properties:
      code:
        type: integer
        format: int32
      message:
        type: string
  NotFound:
    type: object
    properties:
      code:
        type: integer
        format: int32
      message:
        type: string
